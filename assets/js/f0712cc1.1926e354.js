"use strict";(self.webpackChunkintegration_docs=self.webpackChunkintegration_docs||[]).push([[844],{1890:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/rapido-pwa-integration-flow-e39dbbc3001cab231d3e50d99f0bb1a1.png"},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>a});var i=s(6540);const r={},t=i.createContext(r);function o(e){const n=i.useContext(t);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(t.Provider,{value:n},e.children)}},9422:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"integration-flow","title":"Integration Flow","description":"The diagram below explains the end-to-end interaction between the Rapido App, Partner PWA, Rapido Server, and Partner Server.","source":"@site/docs/integration-flow.md","sourceDirName":".","slug":"/integration-flow","permalink":"/ota-docs/docs/integration-flow","draft":false,"unlisted":false,"editUrl":"https://github.com/rapido-labs/ota-docs/tree/main/docs/docs/integration-flow.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3}}');var r=s(4848),t=s(8453);const o={sidebar_position:3},a="Integration Flow",l={},d=[{value:"Flow Explanation",id:"flow-explanation",level:3},{value:"Complete Integration Flow with Session Management",id:"complete-integration-flow-with-session-management",level:2},{value:"Phase 1: Initial Authentication Flow",id:"phase-1-initial-authentication-flow",level:3},{value:"Phase 2: Subsequent App Launch (With Stored Session)",id:"phase-2-subsequent-app-launch-with-stored-session",level:3},{value:"Phase 3: Session Expiration Handling",id:"phase-3-session-expiration-handling",level:3},{value:"Key Integration Points",id:"key-integration-points",level:2},{value:"JavaScript Bridge Methods Used",id:"javascript-bridge-methods-used",level:3},{value:"Security Features",id:"security-features",level:3},{value:"Error Handling Flow",id:"error-handling-flow",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"integration-flow",children:"Integration Flow"})}),"\n",(0,r.jsx)(n.p,{children:"The diagram below explains the end-to-end interaction between the Rapido App, Partner PWA, Rapido Server, and Partner Server."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.img,{alt:"Integration Flow",src:s(1890).A+"",width:"2833",height:"1536"})}),"\n",(0,r.jsx)(n.h3,{id:"flow-explanation",children:"Flow Explanation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"(a)"})," Rapido App launches the Partner PWA, triggering login."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"(b)"})," Rapido App fetches a token for the user from Rapido Server."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"(c)"})," Rapido Server creates and stores the token."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"(d)"})," Rapido App passes the token to the Partner PWA."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"(e)"})," Partner PWA logs in using the token."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"(f)"})," Partner Server fetches user details from Rapido Server using the token."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"(g)"})," Rapido Server responds with user name and number."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"complete-integration-flow-with-session-management",children:"Complete Integration Flow with Session Management"}),"\n",(0,r.jsx)(n.p,{children:"The integration includes a comprehensive session management system that enables seamless user experience across app launches:"}),"\n",(0,r.jsx)(n.h3,{id:"phase-1-initial-authentication-flow",children:"Phase 1: Initial Authentication Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Rapido App \u2502    \u2502 Partner PWA \u2502    \u2502Partner Server\u2502    \u2502Rapido Server\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502                  \u2502                  \u2502                  \u2502\n       \u2502 1. Launch PWA    \u2502                  \u2502                  \u2502\n       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502                  \u2502\n       \u2502                  \u2502 2. Check stored  \u2502                  \u2502\n       \u2502                  \u2502   session ID     \u2502                  \u2502\n       \u2502                  \u2502 (requestSessionId)\u2502                  \u2502\n       \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502                  \u2502\n       \u2502 3. No session    \u2502                  \u2502                  \u2502\n       \u2502   found (null)   \u2502                  \u2502                  \u2502\n       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502                  \u2502\n       \u2502                  \u2502 4. Request auth  \u2502                  \u2502\n       \u2502                  \u2502   token          \u2502                  \u2502\n       \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 (requestUserToken)                 \u2502\n       \u2502 5. Fetch token   \u2502                  \u2502                  \u2502\n       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n       \u2502                  \u2502                  \u2502 6. Token created \u2502\n       \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n       \u2502 7. Pass token    \u2502                  \u2502                  \u2502\n       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502                  \u2502\n       \u2502                  \u2502 8. Validate token\u2502                  \u2502\n       \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n       \u2502                  \u2502                  \u2502 9. API validation\u2502\n       \u2502                  \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n       \u2502                  \u2502                  \u250210. User details  \u2502\n       \u2502                  \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n       \u2502                  \u250211. Auth success  \u2502                  \u2502\n       \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n       \u2502                  \u250212. Store session \u2502                  \u2502\n       \u2502                  \u2502   ID securely    \u2502                  \u2502\n       \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 (storeSessionId) \u2502                  \u2502\n       \u250213. Update login  \u2502                  \u2502                  \u2502\n       \u2502   status         \u2502                  \u2502                  \u2502\n       \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502                  \u2502\n"})}),"\n",(0,r.jsx)(n.h3,{id:"phase-2-subsequent-app-launch-with-stored-session",children:"Phase 2: Subsequent App Launch (With Stored Session)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Rapido App \u2502    \u2502 Partner PWA \u2502    \u2502Partner Server\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502                  \u2502                  \u2502\n       \u2502 1. Launch PWA    \u2502                  \u2502\n       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n       \u2502                  \u2502 2. Check stored  \u2502\n       \u2502                  \u2502   session ID     \u2502\n       \u2502                  \u2502 (requestSessionId)\u2502\n       \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n       \u2502 3. Return stored \u2502                  \u2502\n       \u2502   session ID     \u2502                  \u2502\n       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n       \u2502                  \u2502 4. Validate      \u2502\n       \u2502                  \u2502   session        \u2502\n       \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n       \u2502                  \u2502 5. Session valid \u2502\n       \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n       \u2502                  \u2502 6. Direct to     \u2502\n       \u2502                  \u2502   dashboard      \u2502\n       \u2502                  \u2502   (no login)     \u2502\n"})}),"\n",(0,r.jsx)(n.h3,{id:"phase-3-session-expiration-handling",children:"Phase 3: Session Expiration Handling"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Rapido App \u2502    \u2502 Partner PWA \u2502    \u2502Partner Server\u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n       \u2502                  \u2502                  \u2502\n       \u2502 1. Launch PWA    \u2502                  \u2502\n       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n       \u2502                  \u2502 2. Check stored  \u2502\n       \u2502                  \u2502   session ID     \u2502\n       \u2502                  \u2502 (requestSessionId)\u2502\n       \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n       \u2502 3. Return stored \u2502                  \u2502\n       \u2502   session ID     \u2502                  \u2502\n       \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502                  \u2502\n       \u2502                  \u2502 4. Validate      \u2502\n       \u2502                  \u2502   session        \u2502\n       \u2502                  \u2502\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502\n       \u2502                  \u2502 5. Session       \u2502\n       \u2502                  \u2502   INVALID/EXPIRED\u2502\n       \u2502                  \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502\n       \u2502                  \u2502 6. Clear stored  \u2502\n       \u2502                  \u2502   session        \u2502\n       \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 (clearUserToken) \u2502\n       \u2502                  \u2502 7. Restart auth  \u2502\n       \u2502                  \u2502   flow           \u2502\n       \u2502                  \u2502 (requestUserToken)\u2502\n       \u2502\u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502                  \u2502\n       \u2502     ... (Continue with Phase 1) ... \u2502\n"})}),"\n",(0,r.jsx)(n.h2,{id:"key-integration-points",children:"Key Integration Points"}),"\n",(0,r.jsx)(n.h3,{id:"javascript-bridge-methods-used",children:"JavaScript Bridge Methods Used"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"requestSessionId()"})})," - Request stored session ID from secure storage"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Callback: ",(0,r.jsx)(n.code,{children:"onSessionIdReceived(sessionId)"})]}),"\n",(0,r.jsx)(n.li,{children:"Used on app launch to check for existing sessions"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"requestUserToken(metadata)"})})," - Request user authentication token"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Callback: ",(0,r.jsx)(n.code,{children:"onTokenReceived(token)"})]}),"\n",(0,r.jsx)(n.li,{children:"Used when no valid session exists"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"storeSessionId(sessionId)"})})," - Store session ID securely"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Returns: ",(0,r.jsx)(n.code,{children:"'SUCCESS'"})," or error"]}),"\n",(0,r.jsx)(n.li,{children:"Used after successful authentication"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"clearUserToken()"})})," - Clear stored credentials"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Used for logout or session cleanup"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"updateLoginStatus(success, error)"})})," - Notify app of login result"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Used to inform Rapido app of authentication outcome"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"security-features",children:"Security Features"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Encrypted Storage"}),": Session IDs stored in Rapido's secure keystore, not browser storage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Token Expiration"}),": Authentication tokens have limited lifespan (15 minutes)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Session Validation"}),": Server-side session validation with expiration checking"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatic Cleanup"}),": Expired sessions automatically removed from storage"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"iOS Compatibility"}),": Callback-based patterns work across all platforms"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"error-handling-flow",children:"Error Handling Flow"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"Authentication Error \u2500\u2500\u2510\nSession Expired \u2500\u2500\u2500\u2500\u2500\u2500\u2524\u2500\u2500\u25b6 Clear Session \u2500\u2500\u25b6 Restart Auth Flow\nNetwork Error \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\nValidation Failed \u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.p,{children:"This comprehensive flow ensures users have a seamless experience with automatic session management while maintaining enterprise-grade security standards."})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);